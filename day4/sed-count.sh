#!/bin/bash -ex

seq 254032 789860 |
    sed -E -n '/[1-9]0|[2-9][01]|[3-9][0-2]|[4-9][0-3]|[5-9][0-4]|[6-9][0-5]|[789][0-6]|[89][0-7]|9[0-8]/d; /([0-9])\1/p' |
    tee matches |
    sed -E -n 's/([0-9])\1{2,}/x/g; /([0-9])\1/p' > refined

wc -l matches refined
